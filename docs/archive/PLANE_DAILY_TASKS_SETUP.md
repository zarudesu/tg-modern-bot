# üéØ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á –∏–∑ Plane

## üìã –ß—Ç–æ –º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏:

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á –∞–¥–º–∏–Ω–∞–º –≤ –ª–∏—á–∫—É**
‚úÖ **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–¥–º–∏–Ω–∞**
‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞**
‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Plane**

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

### 1. **–û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª:**

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ .env.example –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
cp .env.example .env

# –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (—É–∂–µ –µ—Å—Ç—å —É –≤–∞—Å)
TELEGRAM_TOKEN=862863686:AAGQPN8YnpCJtXvLLpvuv7elBAa5_x6sg5I

# –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Plane API:
PLANE_API_URL=https://plane.hhivp.com
PLANE_API_TOKEN=your_plane_api_token_here
PLANE_WORKSPACE_SLUG=hhivp

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á:
DAILY_TASKS_ENABLED=true
DAILY_TASKS_TIME=09:00
DAILY_TASKS_TIMEZONE=Europe/Moscow
```

### 2. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω Plane API:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Plane: `https://plane.hhivp.com`
2. –ò–¥–∏—Ç–µ –≤ Settings ‚Üí API Tokens
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∑–∞–¥–∞—á
4. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `PLANE_API_TOKEN`

### 3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**

```bash
cd /Users/zardes/Projects/tg-mordern-bot

# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î)
make dev

# –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
make dev-restart
```

---

## üéõÔ∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/daily_tasks` | üìã –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ –∏–∑ Plane |
| `/daily_settings` | ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| `/plane_test` | üß™ –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Plane API |
| `/scheduler_status` | üìä –°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (–¥–ª—è –≤—Å–µ—Ö –∞–¥–º–∏–Ω–æ–≤) |

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∞–¥–º–∏–Ω–∞:

### **–ß–µ—Ä–µ–∑ –±–æ—Ç–∞:**
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/daily_settings`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
   - üîÑ –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - üïò –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (06:00 - 20:00)
   - üåç –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
   - üìä –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ, –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, –∞–∫—Ç–∏–≤–Ω—ã–µ)
   - üìß Email –≤ Plane (–¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∑–∞–¥–∞—á)

### **–ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –∫–∞–∂–¥—ã–π –∞–¥–º–∏–Ω:**
- üî¥ **–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** (—Å –∫—Ä–∞—Å–Ω—ã–º–∏ –∑–Ω–∞—á–∫–∞–º–∏)
- üìÖ **–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è**
- üìã **–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç–µ**
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (–æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º)
- üîó **–°—Å—ã–ª–∫–∏** –Ω–∞ Plane –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î:**
- `admin_daily_tasks_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∞–¥–º–∏–Ω–∞
- `daily_tasks_logs` - –ª–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ –∞–¥–º–∏–Ω–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### **API Integration:**
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Plane API
- –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ email –∞–¥–º–∏–Ω–∞
- –ö—ç—à–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### 1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Plane:**
```
/plane_test
```

### 2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á:**
```
/daily_settings ‚Üí üìß –ù–∞—Å—Ç—Ä–æ–∏—Ç—å email
```

### 3. **–ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**
```
/daily_tasks (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á)
```

### 4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:**
```
/scheduler_status
```

---

## üîç Troubleshooting:

### **‚ùå "Plane API –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `PLANE_API_URL`, `PLANE_API_TOKEN`, `PLANE_WORKSPACE_SLUG` –≤ .env
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `make dev-restart`

### **‚ùå "Email –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"**
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/plane_test`
- –ù–∞–∂–º–∏—Ç–µ "üìß –ù–∞—Å—Ç—Ä–æ–∏—Ç—å email"
- –í–≤–µ–¥–∏—Ç–µ –≤–∞—à email –∏–∑ Plane

### **‚ùå "–ó–∞–¥–∞—á –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ Plane
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–¥–∞—á–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã

### **‚ùå "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/daily_settings` - –≤–∫–ª—é—á–µ–Ω—ã –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è - –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∂–µ –ø—Ä–æ—à–ª–æ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ `/scheduler_status` - –∑–∞–ø—É—â–µ–Ω –ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ:

### **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω—ã API –≤ .env
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
3. ‚úÖ –ö–∞–∂–¥—ã–π –∞–¥–º–∏–Ω –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–≤–æ–π email —á–µ—Ä–µ–∑ `/plane_test`
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Ä–µ–º—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ `/daily_settings`
5. ‚úÖ –ü–æ–ª—É—á–∞–π—Ç–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–¥–∞—á
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è  
- üìà –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `make bot-logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î: `make db-shell`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `make dev-restart`

**–í—Å–µ –≥–æ—Ç–æ–≤–æ! üöÄ –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –∞–¥–º–∏–Ω –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏ –∏–∑ Plane –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ!**
