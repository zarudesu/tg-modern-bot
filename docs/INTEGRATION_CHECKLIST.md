# ‚úÖ Checklist –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ n8n –∏ Google Sheets

## üìã –ü–æ—à–∞–≥–æ–≤—ã–π checklist –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Google Sheets

- [ ] **1.1** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é Google Sheets —Ç–∞–±–ª–∏—Ü—É "HHIVP IT - –ñ—É—Ä–Ω–∞–ª —Ä–∞–±–æ—Ç"
- [ ] **1.2** –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤:
  ```
  Timestamp | Date | Company | Duration | Description | Travel | Workers | Workers_Count | Creator | Creator_ID | Creator_Email
  ```
- [ ] **1.3** –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ URL
- [ ] **1.4** –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console
- [ ] **1.5** –í–∫–ª—é—á–∏—Ç—å Google Sheets API
- [ ] **1.6** –°–æ–∑–¥–∞—Ç—å Service Account `n8n-sheets-integration`
- [ ] **1.7** –°–∫–∞—á–∞—Ç—å JSON –∫–ª—é—á Service Account
- [ ] **1.8** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å Service Account –ø—Ä–∞–≤–∞ "Editor" –Ω–∞ —Ç–∞–±–ª–∏—Ü—É

**‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 1:** Google Sheets –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

### –≠—Ç–∞–ø 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ n8n Workflow

- [ ] **2.1** –û—Ç–∫—Ä—ã—Ç—å n8n –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π workflow `HHIVP-Telegram-to-Sheets`
- [ ] **2.2** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π template:
  ```bash
  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª: docs/n8n-workflow-template.json
  ```
- [ ] **2.3** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Webhook node:
  - [ ] HTTP Method: POST
  - [ ] Path: work-journal
  - [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Webhook URL
- [ ] **2.4** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google Sheets node:
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Service Account credentials
  - [ ] –£–∫–∞–∑–∞—Ç—å Document ID (–∏–∑ —ç—Ç–∞–ø–∞ 1.3)
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–æ–ª–±—Ü–æ–≤
- [ ] **2.5** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å workflow –∫–Ω–æ–ø–∫–æ–π "Test"
- [ ] **2.6** –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å workflow

**‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 2:** n8n workflow –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

- [ ] **3.1** –û–±–Ω–æ–≤–∏—Ç—å `.env` —Ñ–∞–π–ª:
  ```bash
  N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/work-journal
  GOOGLE_SHEETS_ID=your_google_sheets_id_here
  ```
- [ ] **3.2** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
  ```bash
  make dev
  # –∏–ª–∏
  make full-up
  ```
- [ ] **3.3** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞:
  ```bash
  make status
  make logs-bot
  ```

**‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 3:** Telegram Bot –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

---

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [ ] **4.1** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å n8n webhook —á–µ—Ä–µ–∑ curl:
  ```bash
  curl -X POST https://your-n8n-instance.com/webhook/work-journal \
    -H "Content-Type: application/json" \
    -d @docs/test-payload.json
  ```
- [ ] **4.2** –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç-—Å–∫—Ä–∏–ø—Ç:
  ```bash
  python test_n8n_integration.py https://your-n8n-instance.com/webhook/work-journal
  ```
- [ ] **4.3** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ Google Sheets
- [ ] **4.4** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Telegram Bot:
  ```
  /journal
  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–æ–ª—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
  ```
- [ ] **4.5** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ Google Sheets
- [ ] **4.6** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ n8n workflow
- [ ] **4.7** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Telegram Bot

**‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 4:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] **5.1** –°–æ–∑–¥–∞—Ç—å 3-5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
- [ ] **5.2** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets:
  - [ ] –î–∞—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
  - [ ] –ö–æ–º–ø–∞–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
  - [ ] –°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–ø–∏—Å–∏ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] **5.3** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ `/history`
- [ ] **5.4** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤ –≤ `/report`
- [ ] **5.5** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
- [ ] **5.6** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å n8n)

**‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞ 5:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

```bash
# n8n Integration
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/work-journal
N8N_WEBHOOK_SECRET=your_optional_secret_key

# Google Sheets Configuration  
GOOGLE_SHEETS_ID=1ABC123-example-google-sheets-id-XYZ789
```

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è:

1. **N8N_WEBHOOK_URL**: 
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Webhook node –≤ n8n
   - –§–æ—Ä–º–∞—Ç: `https://your-domain.com/webhook/work-journal`

2. **GOOGLE_SHEETS_ID**:
   - –ò–∑ URL Google Sheets: `https://docs.google.com/spreadsheets/d/[–≠–¢–û_ID]/edit`

---

## üß™ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ n8n webhook:
```bash
# –ß–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç
python test_n8n_integration.py https://your-n8n.com/webhook/work-journal

# –ß–µ—Ä–µ–∑ curl
curl -X POST https://your-n8n.com/webhook/work-journal \
  -H "Content-Type: application/json" \
  -d '{
    "source": "telegram_bot",
    "event_type": "work_journal_entry",
    "data": {
      "work_entry": {
        "date": "2025-08-01",
        "company": "–¢–µ—Å—Ç",
        "duration": "30 –º–∏–Ω",
        "description": "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å",
        "is_travel": false,
        "workers": ["–¢–∏–º–æ—Ñ–µ–π"],
        "workers_count": 1
      },
      "creator": {
        "name": "TestUser",
        "telegram_id": 123456789
      }
    }
  }'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram Bot:
```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
make dev

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
make logs-bot | grep "n8n"

# –í Telegram:
/journal  # –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
/history  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é  
/report   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á–µ—Ç—ã
```

---

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:

#### ‚ùå "Webhook –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ workflow –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ n8n
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –≤ `.env`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å n8n —Å–µ—Ä–≤–µ—Ä–∞

#### ‚ùå "Google Sheets API –æ—à–∏–±–∫–∞"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ Service Account –Ω–∞ —Ç–∞–±–ª–∏—Ü—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Document ID
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Google Sheets API –≤–∫–ª—é—á–µ–Ω

#### ‚ùå "–î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ n8n
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Code node
- [ ] –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow

#### ‚ùå "–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Service Account credentials –≤ n8n
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å JSON –∫–ª—é—á–∞
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Service Account –∏–º–µ–µ—Ç –Ω—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∞

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ checklist:

‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ Telegram** ‚Üí –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è webhook –≤ n8n** ‚Üí –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
‚úÖ **n8n –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ Google Sheets** ‚Üí –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ** —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ Google Sheets:
```
2025-08-01T15:30:45Z | 2025-08-01 | –ò–≤–∞ | 45 –º–∏–Ω | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞... | –ù–µ—Ç | –¢–∏–º–æ—Ñ–µ–π, –î–∏–º–∞ | 2 | Kostya | YOUR_TELEGRAM_ID | kostya@example.com
```

---

## üéØ –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] ‚¨ú –í—Å–µ –ø—É–Ω–∫—Ç—ã checklist –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] ‚¨ú –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ  
- [ ] ‚¨ú –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [ ] ‚¨ú –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**‚úÖ –ö–æ–≥–¥–∞ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –æ—Ç–º–µ—á–µ–Ω—ã - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
