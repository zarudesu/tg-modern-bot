# üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Google Sheets

## üìã –û–±–∑–æ—Ä

–î–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∂—É—Ä–Ω–∞–ª–∞ —Ä–∞–±–æ—Ç –∏–∑ Google Sheets —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç–∞. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —á–µ—Ä–µ–∑ n8n.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```
Google Sheets ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îú‚îÄ‚îÄ Google Sheets API ‚îÄ‚îÄ> Telegram Bot ‚îÄ‚îÄ> PostgreSQL
n8n Workflow ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Google Cloud Project

1. **–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç** –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. **–í–∫–ª—é—á–∏—Ç–µ Google Sheets API**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" > "Library" 
   - –ù–∞–π–¥–∏—Ç–µ "Google Sheets API" –∏ –≤–∫–ª—é—á–∏—Ç–µ –µ–≥–æ
3. **–í–∫–ª—é—á–∏—Ç–µ Google Drive API** (–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º):
   - –ù–∞–π–¥–∏—Ç–µ "Google Drive API" –∏ –≤–∫–ª—é—á–∏—Ç–µ –µ–≥–æ

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤** "APIs & Services" > "Credentials"
2. **–ù–∞–∂–º–∏—Ç–µ** "Create Credentials" > "Service Account"
3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ**:
   - Name: `n8n-sheets-integration`
   - Service Account ID: `n8n-sheets-integration`
   - Description: `Service account for Telegram bot Google Sheets integration`
4. **–°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á**:
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Keys" > "Add Key" > "Create New Key"
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ `google_sheets_credentials.json`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Google Sheets

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google Sheets —Ç–∞–±–ª–∏—Ü—É**
2. **–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π** —Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º:
   - –ù–∞–∂–º–∏—Ç–µ "Share" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
   - –î–æ–±–∞–≤—å—Ç–µ email: `n8n-sheets-integration@hhivp-plane.iam.gserviceaccount.com`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å "Viewer" (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã** –∏–∑ URL:
   - URL: `https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEETS_ID/edit`
   - ID: `YOUR_GOOGLE_SHEETS_ID`

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JSON —Ñ–∞–π–ª–∞

```bash
# –í .env —Ñ–∞–π–ª–µ
GOOGLE_SHEETS_ID=YOUR_GOOGLE_SHEETS_ID
GOOGLE_SHEETS_CREDENTIALS_FILE=/path/to/google_sheets_credentials.json
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JSON —Å—Ç—Ä–æ–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Docker)

```bash
# –í .env —Ñ–∞–π–ª–µ
GOOGLE_SHEETS_ID=YOUR_GOOGLE_SHEETS_ID
GOOGLE_SHEETS_CREDENTIALS_JSON='{"type":"service_account","project_id":"hhivp-plane",...}'
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Google Sheets

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–ª–æ–Ω–∫–∏, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è:

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):
- **`work_date`** –∏–ª–∏ **`–î–∞—Ç–∞ —Ä–∞–±–æ—Ç`** - –¥–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç (YYYY-MM-DD, DD.MM.YYYY, etc.)
- **`company`** –∏–ª–∏ **`–ö–æ–º–ø–∞–Ω–∏—è`** - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏-–∫–ª–∏–µ–Ω—Ç–∞
- **`work_duration`** –∏–ª–∏ **`–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å`** - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: "2 —á–∞—Å–∞", "30 –º–∏–Ω")
- **`work_description`** –∏–ª–∏ **`–û–ø–∏—Å–∞–Ω–∏–µ`** - –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏:
- **`Email Address`** –∏–ª–∏ **`email`** - email –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
- **`is_travel`** –∏–ª–∏ **`–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞`** - —Ñ–ª–∞–≥ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏ ("–î–∞"/"–ù–µ—Ç")
- **`worker_names`** –∏–ª–∏ **`–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏`** - —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
- **`created_by_name`** –∏–ª–∏ **`–°–æ–∑–¥–∞–ª`** - –∫—Ç–æ —Å–æ–∑–¥–∞–ª –∑–∞–ø–∏—Å—å
- **`Timestamp`** - –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

| Timestamp | Email Address | work_date | company | work_duration | work_description | is_travel | worker_names | created_by_name |
|-----------|---------------|-----------|---------|---------------|------------------|-----------|--------------|-----------------|
| 2025-08-04 10:30 | user@company.com | 2025-08-04 | –•–∞—Ä—Ü –õ–∞–±–∑ | 15 –º–∏–Ω | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ | –ù–µ—Ç | –î–∏–º–∞ | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä |

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

```
/sheets_sync - –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Google Sheets
```

### 2. –ß–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
2. –ù–∞–∂–º–∏—Ç–µ "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Google Sheets"
3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ:
   - **üìä –ü—Ä–µ–≤—å—é –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
   - **üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å** - –∏–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   - **üìã –°—Ç–∞—Ç—É—Å** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### 3. –ü—Ä–æ—Ü–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –±–æ—Ç —á–∏—Ç–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ Google Sheets
2. **–ü–∞—Ä—Å–∏–Ω–≥** - –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
5. **–û—Ç—á–µ—Ç** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/admin-user/Projects/tg-mordern-bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
pip install gspread google-auth

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
python test_google_sheets.py
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–µ—Å—Ç—ã:

1. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ .env
2. ‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Google Sheets API
3. ‚úÖ **–î–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ** - —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
4. ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø–∏—Å–µ–π
5. ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞
make bot-logs

# –ü–æ–∏—Å–∫ –ª–æ–≥–æ–≤ Google Sheets
grep -i "google.*sheets" logs/bot.log
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- üìä **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞–ø–∏—Å–µ–π** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ
- ‚ûï **–î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤—ã—Ö** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –ë–î  
- ‚è≠Ô∏è **–ü—Ä–æ–ø—É—â–µ–Ω–æ** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ (–¥—É–±–ª–∏–∫–∞—Ç—ã)
- ‚ùå **–û—à–∏–±–æ–∫** - –∑–∞–ø–∏—Å–∏ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚è±Ô∏è **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- –°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç **—Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∞ —á—Ç–µ–Ω–∏—è** (Viewer)
- –î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π**
- **–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞** –∫ –¥—Ä—É–≥–∏–º —Ñ–∞–π–ª–∞–º Google Drive

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** –¥–∞—Ç –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∞—É–¥–∏—Ç–∞

## ‚ùå –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

#### 1. "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–≤–µ—Ä–Ω—ã–π ID —Ç–∞–±–ª–∏—Ü—ã –≤ `GOOGLE_SHEETS_ID`
- –°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ
- –ù–µ–≤–µ—Ä–Ω—ã–µ credentials

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –≤ URL
2. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π —Å `n8n-sheets-integration@hhivp-plane.iam.gserviceaccount.com`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ .env —Ñ–∞–π–ª–µ

#### 2. "Google Sheets API error"

**–ü—Ä–∏—á–∏–Ω—ã:**
- API –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ Google Cloud Console
- –ü—Ä–µ–≤—ã—à–µ–Ω—ã –ª–∏–º–∏—Ç—ã API
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –í–∫–ª—é—á–∏—Ç–µ Google Sheets API –∏ Google Drive API
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã –≤ Google Cloud Console
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

#### 3. "Invalid date format"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–µ
- –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –≤ –∫–æ–ª–æ–Ω–∫–µ —Å –¥–∞—Ç–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD –∏–ª–∏ DD.MM.YYYY
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —Å –¥–∞—Ç–æ–π

#### 4. "No workers found"

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ü—É—Å—Ç–∞—è –∫–æ–ª–æ–Ω–∫–∞ —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–ª–æ–Ω–∫—É `worker_names` –∏–ª–∏ `–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø—è—Ç—ã–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏

### –û—Ç–ª–∞–¥–∫–∞

```bash
# –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=DEBUG

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
python test_google_sheets.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ –≤—Ä—É—á–Ω—É—é
curl -H "Authorization: Bearer $(gcloud auth print-access-token)" \
  "https://sheets.googleapis.com/v4/spreadsheets/YOUR_SHEET_ID"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Google Sheets API Documentation](https://developers.google.com/sheets/api)
- [Google Cloud Service Accounts](https://cloud.google.com/iam/docs/service-accounts)
- [gspread Python Library](https://docs.gspread.org/)

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n

–î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å n8n workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

1. **n8n —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ** –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
2. **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ Google Sheets** —á–µ—Ä–µ–∑ Google Sheets —É–∑–µ–ª
3. **Telegram –±–æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç** –¥–∞–Ω–Ω—ã–µ –∏–∑ Sheets –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —á–µ—Ä–µ–∑ n8n.

---

*üìÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ: 5 –∞–≤–≥—É—Å—Ç–∞ 2025*  
*üè∑Ô∏è –í–µ—Ä—Å–∏—è: 1.0*  
*üë®‚Äçüíª –°—Ç–∞—Ç—É—Å: ‚úÖ Ready for Production*
